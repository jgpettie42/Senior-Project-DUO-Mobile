<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

</head>
<body>
    <label>First</label>
    <input id = '1'>
    <label>Last</label>
    <input id = '2'>
    <label>Middle</label>
    <input id = '3'>
    <label>Sex</label>
    <input id = '4'>
    <label>DOB</label>
    <input id = '5'>
    <label>Email</label>
    <input id = '6'>
    <label>Password</label>
    <input id = '7'>
    <label>Role</label>
    <input id = '8'>


<div></div>

    <label>BMI</label>
    <input id = 'bmi'>
    <label>strGripStrength</label>
    <input id = 'gs'>
    <label>height</label>
    <input id = 'h'>
    <label>strWeight</label>
    <input id = 'w'>
    <label>strBloodPressure</label>
    <input id = 'bp'>
    <label>strHeartRate</label>
    <input id = 'hr'>
    <label>O2</label>
    <input id = 'o2'>
    <label>Temp</label>
    <input id = 't'>
    <label>ExtraInfo</label>
    <input id = 'ei'>
    <label>Allergy</label>
    <input id = 'a'>
    <label>Medicines</label>
    <input id = 'm'>
    <label>MentalState</label>
    <input id = 'ms'>
    <label>Substances</label>
    <input id = 's'>
   

    <button id="testadmin" class="btn btn-large" aria-label="admin">Admin</button>
    <button id="testpost" class="btn btn-large" aria-label="patient">Patient</button>
    <button id="teststaff" class="btn btn-large" aria-label="staff">Staff</button>
    <button id="testlogin" class="btn btn-large" aria-label="login">Login</button>

    <button id="health" class="btn btn-large" aria-label="login">health</button>
    <button id="gethealth" class="btn btn-large" aria-label="login">gethealth</button>



    <div id="divTable">
        <button id="testtable" class="btn btn-large" aria-label="login">table</button>
        <table id="tblUsers">
            <thead>
                <tr>First</tr>
                <tr>Middle</tr>
                <tr>Last</tr>
                <tr>DOB</tr>
                <tr>Email</tr>
                <tr>Sex</tr>
                <tr>Role</tr>
            </thead>
            <tbody>

            </tbody>
        </table>
    </div>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.3.min.js" integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU=" crossorigin="anonymous"></script>
<script>

    $('#testpost').on('click',function(){
        console.log('test')
        let strFName = $('#1').val()
        let strMinit = $('#3').val()
        let strLName = $('#2').val()
        let strSex = $('#4').val()
        let strDOB = $('#5').val()
        let strEmail = $('#6').val()
        let strPassword = $('#7').val()

        let strInfo = strFName+strMinit+strLName+strSex+strDOB+strEmail+strPassword
        
        console.log(strInfo)
        console.log("working")

        $.post('http://localhost:8000/users',{firstname:strFName,middleinit:strMinit,lastname:strLName,sex:strSex,dob:strDOB,email:strEmail,password:strPassword},function(result){
            console.log(result)
            console.log("worked")
        })
    
    })

    $('#testadmin').on('click',function(){
        console.log('test')
        let strFName = $('#1').val()
        let strMinit = $('#3').val()
        let strLName = $('#2').val()
        let strSex = $('#4').val()
        let strDOB = $('#5').val()
        let strEmail = $('#6').val()
        let strPassword = $('#7').val()

        let strInfo = strFName+strMinit+strLName+strSex+strDOB+strEmail+strPassword
        
        console.log(strInfo)
        console.log("working")

        $.post('http://localhost:8000/admin',{firstname:strFName,middleinit:strMinit,lastname:strLName,sex:strSex,dob:strDOB,email:strEmail,password:strPassword},function(result){
            console.log(result)
            console.log("worked")
        })
    
    })

    $('#teststaff').on('click',function(){
        console.log('test')
        let strFName = $('#1').val()
        let strMinit = $('#3').val()
        let strLName = $('#2').val()
        let strSex = $('#4').val()
        let strDOB = $('#5').val()
        let strEmail = $('#6').val()
        let strPassword = $('#7').val()
        let strRole = $('#8').val()

        let strInfo = strFName+strMinit+strLName+strSex+strDOB+strEmail+strPassword
        
        console.log(strInfo)
        console.log("working")

        $.post('http://localhost:8000/staff',{firstname:strFName,middleinit:strMinit,lastname:strLName,sex:strSex,dob:strDOB,email:strEmail,password:strPassword,role:strRole},function(result){
            console.log(result)
            console.log("worked")
        })
    
    })

    $('#testlogin').on('click',function(){
        console.log('test')
        let strEmail = $('#6').val()
        let strPassword = $('#7').val()

        let strInfo = strEmail+strPassword
        
        console.log(strInfo)
        console.log("working")

        $.post('http://localhost:8000/sessions',{email:strEmail,password:strPassword},function(result){
            console.log(result)
            console.log("worked")
        })
    
    })

    $("#test").on('click',function(){
        console.log("Worked")
    })

    $("#testtable").on('click',function(){
        let strRole = $('#8').val()
        $.get('http://localhost:8000/testRoleGet',{role:strRole},function(result){
            console.log(result)
            console.log("worked")
            let arrUsers = result
            $.each(arrUsers,function(index,user){
                let strTableHtml = '';
                strTableHtml += '<tr><td>'+ user.FirstName+'</td><td>'+user.MiddleName+'</td><td>'+ user.LastName+'</td><td>'+ user.DOB+'</td><td>'+ user.UserID+'</td><td>'+ user.Sex+'</td><td>'+ user.RoleID+'</td></tr>'
                $('#tblUsers tbody').append(strTableHtml);
           })
        })
    })
    
    $("#gethealth").on('click',function(){
        let struserID = $('#6').val()
        $.get('http://localhost:8000/dashboard',{userid:struserID},function(result){
            console.log(result)
            console.log("worked")
            let arrUsers = result
            $.each(arrUsers,function(index,user){
                let strTableHtml = '';
                strTableHtml += '<tr><td>'+ user.FirstName+'</td><td>'+user.MiddleName+'</td><td>'+ user.LastName+'</td><td>'+ user.DOB+'</td><td>'+ user.UserID+'</td><td>'+ user.Sex+'</td><td>'+ user.RoleID+'</td></tr>'
                $('#tblUsers tbody').append(strTableHtml);
           })
        })
    })


    $('#health').on('click',function(){
        console.log('test')
        let strBMI = $('#bmi').val()

        let strGripStrength = $('#gs').val()

        let strHeight = $('#h').val()

        let strWeight = $('#w').val()

        let strBloodPressure = $('#bp').val()

        let strHeartRate = $('#hr').val()

        let strO2Saturation = $('#o2').val()

        let strTemp = $('#t').val()

        let struserID = $('#6').val()

        let strextrainfo = $('#ei').val()

        let strallergy = $('#a').val()

        let strmedicines = $('#m').val()

        let strmentalstate = $('#ms').val()

        let strsubstanceusage = $('#s').val()

        let strInfo = strBMI +strGripStrength+ strHeight+ strWeight +strBloodPressure+ strHeartRate+ strO2Saturation+ strTemp+ struserID+ strextrainfo+ strallergy+ strmedicines+ strmentalstate+ strsubstanceusage 
        
        console.log(strInfo)
        console.log("working")

        $.post('http://localhost:8000/userhealthinfo',{userid:struserID,bmi:strBMI,gripstrength:strGripStrength,height:strHeight,weight:strWeight,bloodpressure:strBloodPressure,heartrate:strHeartRate,o2:strO2Saturation,temp:strTemp,extrainfo:strextrainfo,allergy:strallergy,medicines:strmedicines,mentalstate:strmentalstate,substances:strsubstanceusage},function(result){
            console.log(result)
            console.log("worked")
        })
    
    })

</script>

</html>